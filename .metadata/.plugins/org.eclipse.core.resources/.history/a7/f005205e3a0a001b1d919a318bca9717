/* ERIKA Enterprise. */
#include "ee.h"

/* Arduino SDK. */
#include "Arduino.h"

#include "HelpfulSerial.h"

static HelpfulSerial *serial;

void loop(void) {
	/*ActivateTask(TaskL1);*/
}

void idle_hook(void) {
	loop();
	if (serialEventRun)
		serialEventRun();
}

void setup(void) {

	//Serial.begin(9600);

	/*Serial.println("ciao");
	if (serialEventRun)
			serialEventRun();*/

	serial = new Helpfulserial(9600);

	pinMode(13, OUTPUT);
	digitalWrite(13, LOW);
}

int main(void) {

	init();

	setup();

#if defined(USBCON)
	USBDevice.attach();
#endif

	StartOS(OSDEFAULTAPPMODE);

	return 0;

}

